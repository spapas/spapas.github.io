<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>/var/ - html</title><link href="https://www.spapas.net/" rel="alternate"></link><link href="https://www.spapas.net/feeds/html.atom.xml" rel="self"></link><id>https://www.spapas.net/</id><updated>2023-05-12T15:20:00+03:00</updated><subtitle>Various programming stuff</subtitle><entry><title>HTML form disable after submit</title><link href="https://www.spapas.net/2023/05/12/disable-your-forms/" rel="alternate"></link><published>2023-05-12T15:20:00+03:00</published><updated>2023-05-12T15:20:00+03:00</updated><author><name>Serafeim Papastefanos</name></author><id>tag:www.spapas.net,2023-05-12:/2023/05/12/disable-your-forms/</id><summary type="html">&lt;p&gt;A simple way to improve the functionality of your &lt;span class="caps"&gt;HTML&lt;/span&gt; forms by disabling the submit button after&amp;nbsp;submitting.&lt;/p&gt;</summary><content type="html">&lt;p&gt;One of the most common problems I get in my apps is double submissions of forms. A lot of users
can&amp;#8217;t understand the difference between single and double click and end up double clicking
the form submit button. Also, if the form takes too long to submit they might thing that they didn&amp;#8217;t
press the button correctly and click it&amp;nbsp;again.&lt;/p&gt;
&lt;p&gt;This, depending on how your app is built could result in either working perfectly, or showing errors
to users or (which is the worst) duplicate entries in your&amp;nbsp;database.&lt;/p&gt;
&lt;p&gt;There is a &lt;em&gt;very simple&lt;/em&gt; fix for that: Disable the submit button after the first click. Here&amp;#8217;s how to
do it with&amp;nbsp;jQuery:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;ready&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;form&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;submit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kd"&gt;let&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;submit&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;find&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;:input[type=submit]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nx"&gt;submit&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;prop&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;disabled&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;submit&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;val&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nx"&gt;submit&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;val&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;submit&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;val&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; ⌛&amp;#39;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nx"&gt;submit&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;html&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;submit&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;html&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; ⌛&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;and with vanilla.js if you don&amp;#8217;t use&amp;nbsp;jquery&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;addEventListener&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;DOMContentLoaded&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;document&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;querySelectorAll&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;form&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="nx"&gt;forEach&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;form&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="nx"&gt;form&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;addEventListener&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;submit&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;event&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="kd"&gt;let&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;submit&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;querySelector&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;input[type=&amp;quot;submit&amp;quot;], button[type=&amp;quot;submit&amp;quot;]&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="nx"&gt;submit&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;disabled&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;submit&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;value&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="nx"&gt;submit&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;value&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;submit&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;value&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; ⌛&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="nx"&gt;submit&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;innerHTML&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nx"&gt;submit&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;innerHTML&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; ⌛&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="p"&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The above will find all forms and add an event listener to the submit event. When the form is submitted
it will find the submit button and disable it. Finally, it adds a unicode hourglass character (⌛) to the 
displayed button text so the user gets a quick feedback that the form is being&amp;nbsp;submitted.&lt;/p&gt;
&lt;p&gt;The above snippets  should work correctly no matter if you use 
an &lt;code&gt;&amp;lt;input type="submit"&amp;gt;&lt;/code&gt; or a &lt;code&gt;&amp;lt;button type="submit"&amp;gt;&lt;/code&gt; element (that&amp;#8217;s why we use &lt;code&gt;:input&lt;/code&gt; in jquery to capture both types of elements or we do the double check on the &lt;code&gt;querySelector&lt;/code&gt;, also notice that it checks if the element has a &lt;code&gt;val()/value&lt;/code&gt; and sets 
sets &lt;code&gt;val()/value&lt;/code&gt; or &lt;code&gt;html()/innerHTML&lt;/code&gt; accordingly).&lt;/p&gt;
&lt;p&gt;I use the above snippet on every project I work on and it has saved me a lot of headaches. Please be advised that if you do funny &lt;span class="caps"&gt;JS&lt;/span&gt; things with your form this snippet may not work and break its functionality, but in this case you are probably handling the form disabling&amp;nbsp;yourself.&lt;/p&gt;</content><category term="html"></category><category term="html"></category><category term="javascript"></category></entry><entry><title>How to properly handle an HTML form</title><link href="https://www.spapas.net/2019/10/03/html-form-submit-php/" rel="alternate"></link><published>2019-10-03T14:20:00+03:00</published><updated>2019-10-03T14:20:00+03:00</updated><author><name>Serafeim Papastefanos</name></author><id>tag:www.spapas.net,2019-10-03:/2019/10/03/html-form-submit-php/</id><summary type="html">&lt;p class="first last"&gt;An introductory tutorial on how to properly handle a form. &lt;span class="caps"&gt;PHP&lt;/span&gt; is used for pedagogical&amp;nbsp;reasons.&lt;/p&gt;
</summary><content type="html">&lt;p&gt;One of the simplest things somebody would like to do in a web application is to display a form to the user and then handle the data the application
received from the form. This is a very common task however there are many loose ends and things that a new developer can do wrong. Recently, I tried
to explain this to somebody however I couldn&amp;#8217;t find a tutorial containing all the information I think it is important. So I decided to write it&amp;nbsp;here.&lt;/p&gt;
&lt;p&gt;To make it very easy to test it and understand it I decided to use &lt;span class="caps"&gt;PHP&lt;/span&gt; to handle the form submission. I must confess that I don&amp;#8217;t like &lt;span class="caps"&gt;PHP&lt;/span&gt; and I never
use it in production apps (unless I need to support an existing one). However, for such simple tasks and examples &lt;span class="caps"&gt;PHP&lt;/span&gt; is probably the easiest thing for
a new developer to understand: Just create a &lt;tt class="docutils literal"&gt;.php&lt;/tt&gt; file and put it in a folder in your apache &lt;tt class="docutils literal"&gt;htdocs&lt;/tt&gt;; there now you can test the&amp;nbsp;behavior!&lt;/p&gt;
&lt;p&gt;This tutorial will be as comprehensive as possible and will try to explain all things that I feel that need explaining. However I won&amp;#8217;t go into details
about &lt;span class="caps"&gt;HTML&lt;/span&gt; or &lt;span class="caps"&gt;PHP&lt;/span&gt; syntax; you&amp;#8217;ll need to know some things about them to understand what&amp;#8217;s going on here; after all the important thing is to understand
the big picture so you can re-implement them in your case (or understand why your web framework does what it&amp;nbsp;does).&lt;/p&gt;
&lt;div class="section" id="a-quick-http-primer"&gt;
&lt;h2&gt;A quick &lt;span class="caps"&gt;HTTP&lt;/span&gt;&amp;nbsp;primer&lt;/h2&gt;
&lt;p&gt;So, what happens during a form display and submission? To properly understand that you need to know what an &lt;span class="caps"&gt;HTTP&lt;/span&gt; request is. An &lt;span class="caps"&gt;HTTP&lt;/span&gt; request is the way
the browser &amp;#8220;requests&amp;#8221; a &lt;span class="caps"&gt;URL&lt;/span&gt; from a web server. This is thoroughly explained in the &lt;span class="caps"&gt;HTTP&lt;/span&gt; protocol however, for our purposes here it should suffice to say
that an &lt;span class="caps"&gt;HTTP&lt;/span&gt; request is a text message that is send from the browser/&lt;span class="caps"&gt;HTTP&lt;/span&gt; Client to the &lt;span class="caps"&gt;HTTP&lt;/span&gt;/web server. This message should have the following&amp;nbsp;format:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
METHOD PATH HTTP/VERSION
Header 1: Value 1
Header 2: Value 2

Request data
&lt;/pre&gt;
&lt;p&gt;The &lt;tt class="docutils literal"&gt;&lt;span class="caps"&gt;METHOD&lt;/span&gt;&lt;/tt&gt; can be one of various methods supported in the &lt;span class="caps"&gt;HTTP&lt;/span&gt; protocol like &lt;cite&gt;&lt;span class="caps"&gt;GET&lt;/span&gt;, &lt;span class="caps"&gt;POST&lt;/span&gt;, &lt;span class="caps"&gt;PUT&lt;/span&gt;, &lt;span class="caps"&gt;OPTIONS&lt;/span&gt;&lt;/cite&gt; etc however the most popular and the ones we&amp;#8217;ll talk about here
are &lt;tt class="docutils literal"&gt;&lt;span class="caps"&gt;GET&lt;/span&gt;&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;&lt;span class="caps"&gt;POST&lt;/span&gt;&lt;/tt&gt;. The &lt;tt class="docutils literal"&gt;&lt;span class="caps"&gt;PATH&lt;/span&gt;&lt;/tt&gt; is the actual url of the &amp;#8220;page&amp;#8221; you want to view without the server part. So if you are visiting &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;http://www.example.com/path/to/page.html&lt;/span&gt;&lt;/tt&gt;
the path parameter will have a value of &lt;tt class="docutils literal"&gt;/path/to/page.html&lt;/tt&gt;. The &lt;tt class="docutils literal"&gt;&lt;span class="caps"&gt;HTTP&lt;/span&gt;/&lt;span class="caps"&gt;VERSION&lt;/span&gt;&lt;/tt&gt; will contain the version of &lt;span class="caps"&gt;HTTP&lt;/span&gt; the client uses; usually it is something like
&lt;tt class="docutils literal"&gt;&lt;span class="caps"&gt;HTTP&lt;/span&gt;/1.1&lt;/tt&gt;. Finally, after that first line there&amp;#8217;s a bunch of optional headers with various extra information the client wants to pass to the
server (for example what encoding it supports, what&amp;#8217;s the host it connects to&amp;nbsp;etc).&lt;/p&gt;
&lt;p&gt;Additionally, in case
of a &lt;tt class="docutils literal"&gt;&lt;span class="caps"&gt;POST&lt;/span&gt;&lt;/tt&gt; request the headers are followed by a blank line which in turn is followed by a chunk of &amp;#8220;data&amp;#8221; that the client passes to the&amp;nbsp;server.&lt;/p&gt;
&lt;p&gt;The server will then response back with a text message similar to this (&lt;span class="caps"&gt;HTTP&lt;/span&gt;&amp;nbsp;Response):&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
HTTP/VERSION STATUS
Header 1: Value 1
Header 2: Value 2

Response data
&lt;/pre&gt;
&lt;p&gt;The &lt;tt class="docutils literal"&gt;&lt;span class="caps"&gt;HTTP&lt;/span&gt;/&lt;span class="caps"&gt;VERSION&lt;/span&gt;&lt;/tt&gt; will also be something like &lt;tt class="docutils literal"&gt;&lt;span class="caps"&gt;HTTP&lt;/span&gt;/1.1&lt;/tt&gt; while the &lt;tt class="docutils literal"&gt;&lt;span class="caps"&gt;STATUS&lt;/span&gt;&lt;/tt&gt; will be the status of the response. This status
is a 3-digit numeric value followed by a textual description of the
status. There are &lt;a class="reference external" href="https://httpstatuses.com/"&gt;various statuses that you can receive&lt;/a&gt;, however the statuses can be grouped by the number they start with like&amp;nbsp;this:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;1xx: Information; rarely&amp;nbsp;used&lt;/li&gt;
&lt;li&gt;2xx: Success; status 200 is the most common&amp;nbsp;one&lt;/li&gt;
&lt;li&gt;3xx: Redirection (browser must visit another page); either permanent or&amp;nbsp;temporary&lt;/li&gt;
&lt;li&gt;4xx: Client error; 404 is page not found (also access denied errors will be&amp;nbsp;40x)&lt;/li&gt;
&lt;li&gt;5xx: Server error; something fishy happened to the server while&amp;nbsp;responding&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In this article we&amp;#8217;ll mainly talk about 2xx and 3xx: A &lt;tt class="docutils literal"&gt;200 &lt;span class="caps"&gt;OK&lt;/span&gt;&lt;/tt&gt; answer is the most common one, it means that the &lt;span class="caps"&gt;HTTP&lt;/span&gt; request was
completed successfully. A &lt;tt class="docutils literal"&gt;302 &lt;span class="caps"&gt;FOUND&lt;/span&gt;&lt;/tt&gt; request means that the browser should display a &amp;#8220;different&amp;#8221; path; that path will be provided in
a &lt;tt class="docutils literal"&gt;Location: path&lt;/tt&gt; header. When the browser receives a redirect it will do another &lt;tt class="docutils literal"&gt;&lt;span class="caps"&gt;GET&lt;/span&gt;&lt;/tt&gt; request to retrieve the redirect to&amp;nbsp;page.&lt;/p&gt;
&lt;p&gt;Notice that the Headers and Data parts of the server reply may also be optional like for the client however they usually exist
(especially with a 200 response; without the data the client won&amp;#8217;t have anything to&amp;nbsp;display).&lt;/p&gt;
&lt;p&gt;So when a browser &amp;#8220;requests&amp;#8221; a page it will send an &lt;span class="caps"&gt;HTTP&lt;/span&gt; &lt;tt class="docutils literal"&gt;&lt;span class="caps"&gt;GET&lt;/span&gt;&lt;/tt&gt; to the path. This happens all the time when we visit(click) links or entering
urls to our browser. However, when we submit an &lt;span class="caps"&gt;HTML&lt;/span&gt; form the situation is a little more&amp;nbsp;complex.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="form-methods"&gt;
&lt;h2&gt;Form&amp;nbsp;methods&lt;/h2&gt;
&lt;p&gt;An html form is a &lt;tt class="docutils literal"&gt;&amp;lt;form&amp;gt;&lt;/tt&gt; tag that contains a bunch of &lt;tt class="docutils literal"&gt;&amp;lt;input&amp;gt;&lt;/tt&gt; elements each one of which should have &lt;em&gt;at least&lt;/em&gt; a name property.
One of the inputs will usually be is a submit&amp;nbsp;button.&lt;/p&gt;
&lt;p&gt;Also, the form tag has two important&amp;nbsp;attributes:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;action&lt;/tt&gt;: Defines the url where the post will be submitted to; it can be omitted to submit the form to the current&amp;nbsp;path&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;method&lt;/tt&gt;: Will be either &lt;span class="caps"&gt;GET&lt;/span&gt; or &lt;span class="caps"&gt;POST&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Thus, a sample form is something&amp;nbsp;like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;form&lt;/span&gt; &lt;span class="na"&gt;method&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;GET&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;action&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;form.php&amp;quot;&lt;/span&gt; &lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;input&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;text&amp;#39;&lt;/span&gt; &lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;input1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;input&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;text&amp;#39;&lt;/span&gt; &lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;input2&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;input&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;submit&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;form&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So what are the differences between a &lt;tt class="docutils literal"&gt;&amp;lt;form &lt;span class="pre"&gt;method='&lt;span class="caps"&gt;GET&lt;/span&gt;'&amp;gt;&lt;/span&gt;&lt;/tt&gt; and a &lt;tt class="docutils literal"&gt;&amp;lt;form &lt;span class="pre"&gt;method='&lt;span class="caps"&gt;POST&lt;/span&gt;'&amp;gt;&lt;/span&gt;&lt;/tt&gt;?&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Submitting an &lt;span class="caps"&gt;HTML&lt;/span&gt; form will translate to either an &lt;span class="caps"&gt;HTTP&lt;/span&gt; &lt;span class="caps"&gt;GET&lt;/span&gt; request or an &lt;span class="caps"&gt;HTTP&lt;/span&gt; &lt;span class="caps"&gt;POST&lt;/span&gt; request to the server depending on the method&amp;nbsp;attribute&lt;/li&gt;
&lt;li&gt;The data of a &lt;span class="caps"&gt;GET&lt;/span&gt; form will be encoded in the &lt;span class="caps"&gt;PATH&lt;/span&gt; of the &lt;span class="caps"&gt;HTTP&lt;/span&gt; request while the data of the &lt;span class="caps"&gt;POST&lt;/span&gt; form will be in the corresponding data part of the &lt;span class="caps"&gt;HTTP&lt;/span&gt;&amp;nbsp;Request&lt;/li&gt;
&lt;li&gt;A form that is submitted with &lt;span class="caps"&gt;GET&lt;/span&gt; should be idempotent i.e it should &lt;em&gt;not&lt;/em&gt; modify anything in the server; a form that is submitted with &lt;span class="caps"&gt;POST&lt;/span&gt; should modify something the&amp;nbsp;server&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So, the form we defined previously (that has a &lt;span class="caps"&gt;GET&lt;/span&gt; method) will issue the following &lt;span class="caps"&gt;HTTP&lt;/span&gt; request (if we fill the values value1 and value2 to the&amp;nbsp;inputs):&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
GET /form.php?input1=value1&amp;amp;input2=value2 HTTP/1.1
&lt;/pre&gt;
&lt;p&gt;One the other hand if the form had a &lt;span class="caps"&gt;POST&lt;/span&gt; method the &lt;span class="caps"&gt;HTTP&lt;/span&gt; request would be like&amp;nbsp;this:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
POST /form.php HTTP/1.1

input1=value1&amp;amp;input2=value2
&lt;/pre&gt;
&lt;p&gt;Notice that in the first case the data is in the &lt;span class="caps"&gt;PATH&lt;/span&gt; in the 1st line of the request while in the second case it is passed in the data section.
Also, in both cases the encoded data of the form is similar to &lt;tt class="docutils literal"&gt;input1=value1&amp;amp;input2=value2&lt;/tt&gt;: it is a list of &lt;tt class="docutils literal"&gt;key=value&lt;/tt&gt; pairs seperated
with &lt;tt class="docutils literal"&gt;&amp;amp;&lt;/tt&gt; where the &lt;tt class="docutils literal"&gt;name&lt;/tt&gt; attribute of each &lt;tt class="docutils literal"&gt;input&lt;/tt&gt; is used as the&amp;nbsp;key.&lt;/p&gt;
&lt;p&gt;Concerning the idempotency of the action; this is not something that the &lt;span class="caps"&gt;HTTP&lt;/span&gt; protocol can enforce but it relies on the developer to implement it.
When a form will not change anything to the server then it should be implemented as a method=&lt;span class="caps"&gt;GET&lt;/span&gt;. For example when you have a form with a search
box that just returns some results. On the other hand, when a form does change things for example when you create a new item in an application
then it should be implemented as a method=&lt;span class="caps"&gt;POST&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;The browser has a different behavior after a &lt;span class="caps"&gt;GET&lt;/span&gt; vs after a &lt;span class="caps"&gt;POST&lt;/span&gt; because it expects that when you do a &lt;span class="caps"&gt;GET&lt;/span&gt; request then it won&amp;#8217;t matter if that
request is repeated many times. One the other hand, the browser will try to prevent you from submitting a request many times (because something is
changed in the server so the user must do it intentionally by for example pressing a button to submit the&amp;nbsp;form).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="proper-form-handling"&gt;
&lt;h2&gt;Proper form&amp;nbsp;handling&lt;/h2&gt;
&lt;p&gt;So, following the previous section we can now explain how to handle a form&amp;nbsp;properly:&lt;/p&gt;
&lt;p&gt;For a &lt;span class="caps"&gt;GET&lt;/span&gt; form we don&amp;#8217;t have to do anything fancy; we just retrieve the parameter values and we display the data these parameters correspond to
just like if we displayed any other&amp;nbsp;page.&lt;/p&gt;
&lt;p&gt;For a &lt;span class="caps"&gt;POST&lt;/span&gt; form however we need to be extra careful as to avoid re-duplication of data and have a good user experience: When a &lt;span class="caps"&gt;POST&lt;/span&gt; form is
submitted we need first to make sure that the submitted parameters are valid (for example there are no missing required fields). If the form is not
valid then we will return a status 200 &lt;span class="caps"&gt;OK&lt;/span&gt; explaining to the user what went wrong; we usually return the same page containing the initial form with
the fields that had errors&amp;nbsp;marked.&lt;/p&gt;
&lt;p&gt;On the other hand, if the form &lt;em&gt;was valid&lt;/em&gt; we need to do the actual action that the form corresponds to; for example insert something to the database.
After this is finished we should return a &lt;em&gt;redirect&lt;/em&gt; (302) to either a different or even the same page. This will result to the browsing doing a
&lt;span class="caps"&gt;GET&lt;/span&gt; request to the page we redirect to so there would be no danger of the user refreshing the page and resubmitting the form. We should &lt;em&gt;not&lt;/em&gt;
return a 200 &lt;span class="caps"&gt;OK&lt;/span&gt; after a &lt;span class="caps"&gt;POST&lt;/span&gt; request because then the user would be able to press F5 to duplicate the previous &lt;span class="caps"&gt;POST&lt;/span&gt; request (and re-insert the&amp;nbsp;data).&lt;/p&gt;
&lt;p&gt;One extra thing that we need to consider is how should we inform the user that his action was successful after the form submission and
redirection? As we said, we can&amp;#8217;t return a 200 &lt;span class="caps"&gt;OK&lt;/span&gt; message so we can&amp;#8217;t really &amp;#8220;create&amp;#8221; the response, we instead need to redirect to another page.
A common practice for this is to use a &amp;#8220;flash&amp;#8221; message; this is offered by many web frameworks through specific functions
but can be easily implemented. I&amp;#8217;ll explain how in the next&amp;nbsp;section.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="implementing-flash-messages"&gt;
&lt;h2&gt;Implementing flash&amp;nbsp;messages&lt;/h2&gt;
&lt;p&gt;Before talking about the flash message I&amp;#8217;d like to quickly explain what&amp;#8217;s a cookie and a browser session in &lt;span class="caps"&gt;HTTP&lt;/span&gt;, because
the flash message builds upon these&amp;nbsp;concepts:&lt;/p&gt;
&lt;p&gt;A cookie is a way for the server to tell the client to store some information to be re-used later. What happens is that
the server returns an &lt;span class="caps"&gt;HTTP&lt;/span&gt; header line similar to &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;Set-Cookie:&lt;/span&gt; &lt;span class="pre"&gt;cookie-name=cookie-value&lt;/span&gt;&lt;/tt&gt;. When the client receives that
header line it will pass an &lt;span class="caps"&gt;HTTP&lt;/span&gt; header line similar to &lt;tt class="docutils literal"&gt;Cookie:&amp;nbsp; &lt;span class="pre"&gt;cookie-name=cookie-value&lt;/span&gt;&lt;/tt&gt; to all future requests
so the server will know which value it had send to the client (there are various options for expiring cookies etc but they
are not important here). This may seem like a primitive solution however because &lt;span class="caps"&gt;HTTP&lt;/span&gt; is a stateless protocol
that&amp;#8217;s the only way for the server to store information about a client. If you disable cookies completely in a browser
then there won&amp;#8217;t be a way for the server to remember you, for example you won&amp;#8217;t be able to login&amp;nbsp;anywhere!&lt;/p&gt;
&lt;p&gt;A session is a better way to store info about the client that builds upon the cookies. What happens is that when a client visits
a site for the first time (so it has no cookies for that particular site) the server will send back a cookie named &lt;tt class="docutils literal"&gt;session_id&lt;/tt&gt; (or something like
that) containing a very big random number. The server will save this session id number in a persistent storage (for example in a
database or a text file) and will correlate that number with information for that particular client. When the client sends back that
&lt;tt class="docutils literal"&gt;session_id&lt;/tt&gt; cookie the server will fetch the correlated info for that particular client from the persistent storage (and may
update them etc). This way the server can store whatever info it wants about a particular client. The server usually keeps a
a dictionary (map) of key-values for each&amp;nbsp;session.&lt;/p&gt;
&lt;p&gt;Now, a flash message is some information (message) that should be displayed to the user &lt;em&gt;once&lt;/em&gt;. For example a message like
&amp;#8220;Your form has been&amp;nbsp;submitted!&amp;#8221;.&lt;/p&gt;
&lt;p&gt;A simple way to implement this is to add a &lt;tt class="docutils literal"&gt;message&lt;/tt&gt;
attribute to the session when you want to display the flash message. The next page that is displayed (irrelevantly if there&amp;#8217;s a redirect involved)
will check to see if there&amp;#8217;s a &lt;tt class="docutils literal"&gt;message&lt;/tt&gt; attribute to the session; if yes it will display the actual message and remove the &lt;tt class="docutils literal"&gt;message&lt;/tt&gt; attribute
from the session (so it won&amp;#8217;t be displayed&amp;nbsp;again).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="implementing-the-form-submission"&gt;
&lt;h2&gt;Implementing the form&amp;nbsp;submission&lt;/h2&gt;
&lt;p&gt;Following the above guidelines I&amp;#8217;ll present here a typical, production-ready form submission for &lt;span class="caps"&gt;PHP&lt;/span&gt;. Some choices I&amp;#8217;ve&amp;nbsp;made:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;I am going to implement a &lt;span class="caps"&gt;POST&lt;/span&gt; form since a &lt;span class="caps"&gt;GET&lt;/span&gt; form doesn&amp;#8217;t need any special&amp;nbsp;handling&lt;/li&gt;
&lt;li&gt;The form handler will be the same &lt;span class="caps"&gt;PHP&lt;/span&gt; page as the one displaying the form. This is a usual thing to do, you check the &lt;span class="caps"&gt;HTTP&lt;/span&gt; method and either display the form as-is (if it is &lt;span class="caps"&gt;GET&lt;/span&gt;) or handle the submission (if it is &lt;span class="caps"&gt;POST&lt;/span&gt;)&lt;/li&gt;
&lt;li&gt;When the form is submitted successfully redirect to the same page and display a flash&amp;nbsp;message&lt;/li&gt;
&lt;li&gt;Check for valid input and display the error&amp;nbsp;message&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So without further ado here&amp;#8217;s the complete php code that will submit your form; store it in a file named &lt;tt class="docutils literal"&gt;test.php&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;&amp;lt;!DOCTYPE HTML&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;&amp;lt;html&amp;gt;&lt;/span&gt;

&lt;span class="x"&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;  &amp;lt;meta charset=&amp;quot;UTF-8&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;  &amp;lt;meta name=&amp;quot;viewport&amp;quot; content=&amp;quot;width=device-width, initial-scale=1.0&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;  &amp;lt;meta http-equiv=&amp;quot;X-UA-Compatible&amp;quot; content=&amp;quot;ie=edge&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;  &amp;lt;title&amp;gt;TEST FORM&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;  &amp;lt;link href=&amp;quot;https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css&amp;quot; rel=&amp;quot;stylesheet&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;

&lt;span class="x"&gt;&amp;lt;body class=&amp;quot;bg-gray-100&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;  &amp;lt;div class=&amp;quot;px-8 py-8 w-1/2 m-auto&amp;quot;&amp;gt;&lt;/span&gt;

&lt;span class="x"&gt;    &lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class="nb"&gt;session_start&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$_SESSION&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;message&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;??&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="k"&gt;echo&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;div class=&amp;quot;rounded bg-green-300 px-2 py-2&amp;quot;&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;$_SESSION&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;message&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&amp;lt;/div&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
      &lt;span class="nb"&gt;unset&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$_SESSION&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;message&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="nv"&gt;$nameErr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$wsErr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$comment&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nv"&gt;$formValid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$_SERVER&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;REQUEST_METHOD&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;POST&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$_POST&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nv"&gt;$nameErr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Name is required&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="nv"&gt;$formValid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
      &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nv"&gt;$name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$_POST&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
      &lt;span class="p"&gt;}&lt;/span&gt;

      &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$_POST&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nv"&gt;$comment&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
      &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nv"&gt;$comment&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$_POST&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;comment&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
      &lt;span class="p"&gt;}&lt;/span&gt;

      &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$formValid&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="nb"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
          &lt;span class="nv"&gt;$_SESSION&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;message&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Success! You have submitted the values: &amp;lt;b&amp;gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="nv"&gt;$name&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot; / &amp;quot;&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="nv"&gt;$comment&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;/b&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
          &lt;span class="nb"&gt;header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Location: ./test.php&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
          &lt;span class="k"&gt;exit&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
          &lt;span class="nv"&gt;$wsErr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Error while trying to submit the form!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
      &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;

&lt;span class="x"&gt;    &amp;lt;h1 class=&amp;quot;text-4xl font-bold text-indigo-500&amp;quot;&amp;gt;Test a PHP form!&amp;lt;/h1&amp;gt;&lt;/span&gt;

&lt;span class="x"&gt;    &amp;lt;form class=&amp;#39;border border-blue-800 rounded p-2&amp;#39; method=&amp;quot;POST&amp;quot;&amp;gt;&lt;/span&gt;

&lt;span class="x"&gt;      &lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$wsErr&lt;/span&gt; &lt;span class="o"&gt;?&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;div class=&amp;#39;text-red-600 py-3&amp;#39;&amp;gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="nv"&gt;$wsErr&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;/div&amp;gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt; &lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;

&lt;span class="x"&gt;      &amp;lt;div class=&amp;quot;p-1&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;        &amp;lt;label for=&amp;quot;name&amp;quot;&amp;gt;Name:&amp;lt;/label&amp;gt; &amp;lt;input class=&amp;quot;border border-blue-800 rounded&amp;quot; id=&amp;quot;name&amp;quot; type=&amp;quot;text&amp;quot; name=&amp;quot;name&amp;quot; value=&amp;quot;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$name&lt;/span&gt; &lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;&lt;span class="x"&gt;&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;        &amp;lt;span class=&amp;quot;text-red-600&amp;quot;&amp;gt;* &lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$nameErr&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;&lt;span class="x"&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;      &amp;lt;/div&amp;gt;&lt;/span&gt;

&lt;span class="x"&gt;      &amp;lt;div class=&amp;quot;p-1&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;        &amp;lt;label for=&amp;quot;comment&amp;quot;&amp;gt;Comment:&amp;lt;/label&amp;gt; &amp;lt;textarea class=&amp;quot;border border-blue-800 rounded&amp;quot; id=&amp;quot;comment&amp;quot; name=&amp;quot;comment&amp;quot; rows=&amp;quot;5&amp;quot; cols=&amp;quot;40&amp;quot;&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$comment&lt;/span&gt; &lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;&lt;span class="x"&gt;&amp;lt;/textarea&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;      &amp;lt;/div&amp;gt;&lt;/span&gt;

&lt;span class="x"&gt;      &amp;lt;input class=&amp;quot;rounded px-2 my-4 py-2 bg-blue-800 text-gray-100&amp;quot; type=&amp;quot;submit&amp;quot; name=&amp;quot;submit&amp;quot; value=&amp;quot;Save&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;    &amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;  &amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class="x"&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So how is that working? As we can see there&amp;#8217;s the php code first and the html is following (with some sprinkles of php). The &lt;span class="caps"&gt;HTML&lt;/span&gt; code is rather simple: It will
display a &lt;tt class="docutils literal"&gt;&lt;span class="caps"&gt;POST&lt;/span&gt;&lt;/tt&gt; form with two inputs named &lt;tt class="docutils literal"&gt;name&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;comment&lt;/tt&gt;. Notice that we pass the &lt;tt class="docutils literal"&gt;$name&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;$comment&lt;/tt&gt; php variables as their values.
It also has a submit button and will display the &lt;tt class="docutils literal"&gt;$wsErr&lt;/tt&gt; variable if it is not null (which means that there was an error while submitting the data). The &lt;span class="caps"&gt;PHP&lt;/span&gt;
code now first starts the session (i.e it passes the &lt;tt class="docutils literal"&gt;session_id&lt;/tt&gt; cookie to the client if such a cookie does not exist) checks to see if there&amp;#8217;s a
&lt;tt class="docutils literal"&gt;message&lt;/tt&gt; attribute to the session. If such a message exists it will display it in a rounded green panel and remove that from the session (so it won&amp;#8217;t be displayed
again next&amp;nbsp;time):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;session_start();&lt;/span&gt;
&lt;span class="x"&gt;if ($_SESSION[&amp;#39;message&amp;#39;] ?? &amp;#39;&amp;#39;) {&lt;/span&gt;
&lt;span class="x"&gt;  echo &amp;#39;&amp;lt;div class=&amp;quot;rounded bg-green-300 px-2 py-2&amp;quot;&amp;gt;&amp;#39;.$_SESSION[&amp;#39;message&amp;#39;].&amp;#39;&amp;lt;/div&amp;gt;&amp;#39;;&lt;/span&gt;
&lt;span class="x"&gt;  unset($_SESSION[&amp;#39;message&amp;#39;]);&lt;/span&gt;
&lt;span class="x"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After that there are some variable initializations and we check if the &lt;span class="caps"&gt;HTTP&lt;/span&gt; request is &lt;tt class="docutils literal"&gt;&lt;span class="caps"&gt;POST&lt;/span&gt;&lt;/tt&gt; (if the request is &lt;span class="caps"&gt;GET&lt;/span&gt; we&amp;#8217;ll just disply the &lt;span class="caps"&gt;HTML&lt;/span&gt;):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;if ($_SERVER[&amp;quot;REQUEST_METHOD&amp;quot;] == &amp;quot;POST&amp;quot;) {&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For each of the inputs we check if they are empty or not and assign their values to the corresponding php variable. If the name is empty then we&amp;#8217;ll
set &lt;tt class="docutils literal"&gt;$formValid = false;&lt;/tt&gt; and add an error message since this field is required. Then, if &lt;tt class="docutils literal"&gt;$formValid&lt;/tt&gt; is not false we can do the actual action
(for example write to the database). I&amp;#8217;ve simulated that using a coin-toss with rand (so there&amp;#8217;s a 50% possibility that the action will fail). If
the action &amp;#8220;failed&amp;#8221; then nothing happened in the database so we should return the same page with the &lt;tt class="docutils literal"&gt;wsErr&lt;/tt&gt; variable containing the&amp;nbsp;error.&lt;/p&gt;
&lt;p&gt;However if the action is successful that means that the data has been inserted to the database so we&amp;#8217;ll need to set the flash message and do
the redirect (the name of the page containing the form is &lt;tt class="docutils literal"&gt;/test.php&lt;/tt&gt; so we&amp;#8217;ll redirect to&amp;nbsp;it):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;$_SESSION[&amp;#39;message&amp;#39;] = &amp;quot;Success! You have submitted the values: &amp;lt;b&amp;gt;&amp;quot; . $name . &amp;quot; / &amp;quot; . $comment . &amp;quot;&amp;lt;/b&amp;gt;&amp;quot;;&lt;/span&gt;
&lt;span class="x"&gt;header(&amp;#39;Location: ./test.php&amp;#39;);&lt;/span&gt;
&lt;span class="x"&gt;exit();&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The two commands above (&lt;tt class="docutils literal"&gt;header&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;exit&lt;/tt&gt;) will do the actual redirect in php. Since the session contains the &lt;tt class="docutils literal"&gt;message&lt;/tt&gt; it will
be displayed after the redirect has&amp;nbsp;finished!&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="conclusion"&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;So following the above tutorial, here&amp;#8217;s what you should absolutely do to submit an &lt;span class="caps"&gt;HTML&lt;/span&gt;&amp;nbsp;form:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Use &lt;span class="caps"&gt;HTTP&lt;/span&gt; &lt;span class="caps"&gt;POST&lt;/span&gt; if the form is going to change data on the server; use &lt;span class="caps"&gt;HTTP&lt;/span&gt; &lt;span class="caps"&gt;GET&lt;/span&gt; otherwise (mainly for search/filter&amp;nbsp;forms)&lt;/li&gt;
&lt;li&gt;When using &lt;span class="caps"&gt;POST&lt;/span&gt;: Redirect when the form is valid and the action on the server has finished successfully; never return a 200 &lt;span class="caps"&gt;OK&lt;/span&gt; status when you&amp;#8217;ve changed things in the server&amp;nbsp;(database)&lt;/li&gt;
&lt;li&gt;Use flash messages to pass information to the user after a&amp;nbsp;redirect&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</content><category term="html"></category><category term="html"></category><category term="form"></category><category term="php"></category></entry></feed>